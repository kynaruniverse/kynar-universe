:root {
    --kynar-glass: blur(12px) saturate(180%);
    --kynar-border: 1px solid rgba(255, 255, 255, 0.1);
    --aura-color: #00ffff;
}

/* The CSS Portal Orb */
.orb-layer {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
}

.orb-glow {
    background: var(--aura-color);
    filter: blur(15px);
    opacity: 0.5;
    animation: pulse 3s infinite ease-in-out;
}

.orb-glass {
    background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(0,0,0,0.1) 100%);
    border: 1px solid rgba(255,255,255,0.3);
    backdrop-filter: var(--kynar-glass);
    box-shadow: inset 0 0 15px rgba(255,255,255,0.2);
}

@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.4; }
    50% { transform: scale(1.1); opacity: 0.7; }
}

.nav-icon {
    font-size: 1.5rem;
    color: #666;
    transition: color 0.3s ease;
    width: 44px; /* Thumb-friendly target */
    height: 44px;
}

/* World Themes - Visual DNA */
.world-sage {
    --aura-color: #71797E;
    --accent-color: #D4AF37;
    --world-bg: #1a1c1d;
}

.world-electric {
    --aura-color: #00FFFF;
    --accent-color: #2F4F4F;
    --world-bg: #000d0d;
}

.world-terra {
    --aura-color: #E2725B;
    --accent-color: #000080;
    --world-bg: #1a0f0a;
}

/* UI Transitions */
body {
    transition: background-color 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    background-color: var(--world-bg, #000);
}

.nav-icon.active {
    color: var(--aura-color);
    text-shadow: 0 0 8px var(--aura-color);
}

/* Marketplace Card Styles */
.artifact-card {
    background: rgba(255, 255, 255, 0.03);
    border: var(--kynar-border);
    backdrop-filter: var(--kynar-glass);
    transition: transform 0.3s ease;
}

/* Holographic Scanline Overlay */
.scanlines {
    position: relative;
    overflow: hidden;
}
.scanlines::after {
    content: " ";
    display: block;
    position: absolute;
    top: 0; left: 0; bottom: 0; right: 0;
    background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
                linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
    z-index: 2;
    background-size: 100% 4px, 3px 100%;
    pointer-events: none;
}

/* Steady Breathing Animation */
@keyframes breathe {
    0%, 100% { opacity: 0.6; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.05); }
}

.animate-pulse-slow {
    animation: breathe 4s ease-in-out infinite;
}

/* Scrollbar Hide for Clean UI */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

.perspective-1000 { perspective: 1000px; }
.preserve-3d { transform-style: preserve-3d; }
.backface-hidden { backface-visibility: hidden; -webkit-backface-visibility: hidden; }
.rotate-y-180 { transform: rotateY(180deg); }

/* Zen Mode Overlay */
body.zen-active #main-stage {
    filter: sepia(0.2) contrast(1.1);
}

/* Hide navigation items in Zen Mode except Vault and Identity */
body.zen-active button[onclick*="worlds"],
body.zen-active button[onclick*="square"] {
    opacity: 0.1 !important;
    pointer-events: none;
}

/* Rotating Ring Animation for the Orb */
#the-orb {
    animation: rotate-aura 10s linear infinite;
}

@keyframes rotate-aura {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.animate-spin-slow {
    animation: spin 12s linear infinite;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}
