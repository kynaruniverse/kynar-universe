<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, viewport-fit=cover" />
  <title>Kynar / Secure Checkout</title>
  <meta name="description" content="Securely complete your purchase of Kynar digital systems." />
  <link rel="icon" type="image/png" href="assets/favicon.png" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div data-include="components/header.html"></div>

  <main class="app-container">
    <section 
      style="
        margin-top: 1.5rem; 
        margin-bottom: 3rem; 
        text-align: center;
      "
    >
      <h1 class="text-display glass-title">Secure Checkout</h1>
      <p class="text-sub">Finalize your order and authorize digital delivery.</p>
    </section>

    <div class="checkout-layout">
      
      <div 
        id="order-list" 
        style="display: flex; flex-direction: column; gap: 1rem;"
      >
        <div 
          class="feature-card" 
          style="
            background: var(--bg-canvas); 
            border: 2px dashed var(--ink-border); 
            padding: 5rem 2rem; 
            text-align: center;
          "
        >
          <div style="font-size: 3.5rem; margin-bottom: 1.5rem; opacity: 0.3;">üõí</div>
          <h3 style="font-family: var(--font-display); font-size: 1.5rem; margin-bottom: 0.75rem;">Empty Cart</h3>
          <p style="color: var(--ink-muted); margin-bottom: 2rem; font-size: 0.95rem;">Please select an asset to continue.</p>
          <a href="shop.html" class="dock-btn" style="height: 52px; padding: 0 2.5rem;">Explore Marketplace</a>
        </div>
      </div>

      <aside class="merchant-sidebar">
        <div 
          class="feature-card" 
          style="
            background: var(--grad-emerald); 
            padding: 2.5rem 2rem; 
            border: none; 
            box-shadow: var(--shadow-float); 
            position: sticky; 
            top: 100px;
          "
        >
          <div 
            style="
              display: flex; 
              justify-content: space-between; 
              align-items: flex-start; 
              border-bottom: 1px solid rgba(255,255,255,0.1); 
              padding-bottom: 1.5rem; 
              margin-bottom: 2rem;
            "
          >
            <div>
              <div style="font-size: 0.65rem; font-weight: 800; color: var(--accent-gold); text-transform: uppercase; letter-spacing: 0.15em; margin-bottom: 6px;">Kynar Secure Merchant</div>
              <h2 style="font-family: var(--font-display); font-size: 1.4rem; color: white;">Order Summary</h2>
            </div>
            <span class="security-shield" style="font-size: 2rem;">üõ°Ô∏è</span>
          </div>

          <div style="margin-bottom: 2.5rem;">
            <div 
              style="
                display: flex; 
                justify-content: space-between; 
                color: rgba(255,255,255,0.7); 
                font-size: 0.85rem; 
                margin-bottom: 1rem;
              "
            >
              <span>Items for Delivery</span>
              <span id="summary-count" style="color: white; font-weight: 800;">0</span>
            </div>
            
            <div 
              style="
                background: rgba(0,0,0,0.25); 
                padding: 1.25rem; 
                border-radius: 16px; 
                border: 1px solid rgba(255,255,255,0.05); 
                display: flex; 
                justify-content: space-between; 
                align-items: center;
              "
            >
              <span style="color: rgba(255,255,255,0.6); font-size: 0.85rem; font-weight: 700; text-transform: uppercase;">Total</span>
              <span id="summary-total" style="font-family: var(--font-display); font-size: 2rem; color: var(--accent-gold);">¬£0.00</span>
            </div>
          </div>

          <button 
            id="btn-pay" 
            class="dock-btn" 
            style="
              width: 100%; 
              height: 60px; 
              background: white; 
              color: var(--ink-display); 
              border: none; 
              font-weight: 900; 
              font-size: 1rem; 
              margin-bottom: 1.5rem;
            "
          >Authorize & Pay</button>

          <div style="display: flex; align-items: center; justify-content: center; gap: 1rem; opacity: 0.5;">
            <img src="https://upload.wikimedia.org/wikipedia/commons/b/ba/Stripe_Logo%2C_revised_2016.svg" style="height: 20px; filter: brightness(0) invert(1);" alt="Stripe">
            <div style="width: 1px; height: 12px; background: white;"></div>
            <span style="color: white; font-size: 0.6rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.05em;">AES-256 Encrypted</span>
          </div>
        </div>
      </aside>

    </div>
  </main>

  <div class="transaction-success-overlay" id="payment-success-screen">
    <div class="success-orb" style="width: 100px; height: 100px; margin-bottom: 2rem;">‚ú¶</div>
    <h2 class="text-display" style="color: white; margin-bottom: 0.75rem;">Transaction Authorized</h2>
    <p style="opacity: 0.8; font-size: 0.95rem;">Preparing your digital library...</p>
  </div>

  <div data-include="components/footer.html"></div>
  <div data-include="components/modals.html"></div>

  <style>
    .checkout-layout {
      display: grid;
      grid-template-columns: 1.5fr 1fr;
      gap: 3rem;
      align-items: start;
    }

    .order-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: white;
      padding: 1.5rem;
      border-radius: 20px;
      border: 1px solid var(--ink-border);
      box-shadow: var(--shadow-soft);
      transition: transform 0.3s var(--transition-tactile);
    }

    .order-item:hover { transform: translateY(-3px); }

    @media (max-width: 900px) {
      .checkout-layout { grid-template-columns: 1fr; gap: 2rem; }
      .merchant-sidebar { order: -1; }
      .merchant-sidebar .feature-card { position: relative; top: 0; padding: 1.5rem; }
    }
  </style>

  <script src="core.js"></script>
  <script src="cart.js"></script> 
  <script src="checkout.js"></script> 
  <script src="haptics.js"></script>
  <script type="module">
    import './firebase-config.js';
    import './auth.js';
  </script>
</body>
</html>
