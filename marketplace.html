<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Marketplace | KYNAR Universe</title>
    
    <meta name="description" content="Explore the KYNAR Universe Marketplace - Premium templates, systems, and creative resources.">
    
    <link rel="stylesheet" href="styles.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="icon" type="image/png" href="assets/favicon.png">
</head>
<body class="marketplace-page">
    <a href="#main-marketplace-content" class="visually-hidden">Skip to content</a>
    
    <div class="drawer-overlay" id="drawer-overlay" aria-hidden="true"></div>

        <div class="header-wrapper">
        <div data-include="components/header.html"></div>
    </div>

    </div>     <main id="main-marketplace-content" class="main-content-container container shop-layout">
        
        <aside class="marketplace-filters" id="filter-sidebar">
            <div class="filter-header-mobile" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3>Filters</h3>
                <button class="drawer-close" onclick="document.getElementById('filter-sidebar').classList.remove('is-open')" style="display: none;">&times;</button>
            </div>

            <div class="filter-group">
                <h4>Category</h4>
                <label class="filter-label"><input type="checkbox" class="cat-filter" value="productivity"> Productivity</label>
                <label class="filter-label"><input type="checkbox" class="cat-filter" value="homeschool"> Homeschool</label>
                <label class="filter-label"><input type="checkbox" class="cat-filter" value="creative"> Creative & Art</label>
            </div>

            <div class="filter-group">
                <h4>Price</h4>
                <label class="filter-label"><input type="radio" name="price" value="all" checked> Any Price</label>
                <label class="filter-label"><input type="radio" name="price" value="under10"> Under £10</label>
                <label class="filter-label"><input type="radio" name="price" value="over10"> £10+</label>
            </div>

            <div class="filter-actions-mobile">
                <button id="apply-filters-btn" class="btn btn-primary btn-full-width">Apply Filters</button>
            </div>
            
            <button id="clear-filters" style="margin-top: 20px; background: none; border: none; text-decoration: underline; cursor: pointer; color: #888;">Clear all filters</button>
        </aside>

        <section class="product-feed">
            <div class="feed-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <span id="result-count" style="font-family: var(--font-glacial); font-weight: bold;">Showing all creations</span>
                
                <div class="sort-wrapper">
                    <button class="mobile-filter-btn">
                        <i class="fa-solid fa-filter"></i> Filters
                    </button>
                    
                    <select class="sort-dropdown" aria-label="Sort products" style="padding: 8px; border-radius: 8px; border: 1px solid #ccc;">
                        <option value="newest">Newest First</option>
                        <option value="low-high">Price: Low to High</option>
                        <option value="high-low">Price: High to Low</option>
                    </select>
                </div>
            </div>

            <div id="product-container" class="scrollable-product-list">
                
                <article class="list-item" data-category="productivity" data-type="template" data-price="12" data-date="2025-01-20">
                    <div class="item-visual" style="width: 80px; height: 80px; background: #eee; border-radius: 10px; flex-shrink: 0;">
                        </div>
                    <div class="item-details" style="flex: 1; padding: 0 20px;">
                        <h4 style="margin-bottom: 5px;">Ultimate Life Planner</h4>
                        <p style="font-size: 13px; color: #666; margin-bottom: 8px;">Notion Template • Productivity</p>
                        <div class="tags" style="display: flex; gap: 5px;">
                            <span class="asset-item" style="font-size: 10px; padding: 2px 8px;">Notion</span>
                        </div>
                    </div>
                    <div class="item-action" style="text-align: right;">
                        <div class="item-price">£12.00</div>
                        <button class="btn btn-primary btn-sm" onclick="kynarPurchases.addToWishlist({id: 'p1', title: 'Ultimate Life Planner', price: 12})">Add</button>
                    </div>
                </article>

                <article class="list-item" data-category="homeschool" data-type="printable" data-price="5" data-date="2025-01-18">
                    <div class="item-visual" style="width: 80px; height: 80px; background: #e3f0e7; border-radius: 10px; flex-shrink: 0;"></div>
                    <div class="item-details" style="flex: 1; padding: 0 20px;">
                        <h4 style="margin-bottom: 5px;">Preschool Math Bundle</h4>
                        <p style="font-size: 13px; color: #666; margin-bottom: 8px;">PDF Printable • Homeschool</p>
                         <div class="tags" style="display: flex; gap: 5px;">
                            <span class="asset-item" style="font-size: 10px; padding: 2px 8px;">PDF</span>
                        </div>
                    </div>
                    <div class="item-action" style="text-align: right;">
                        <div class="item-price">£5.00</div>
                        <button class="btn btn-primary btn-sm" onclick="kynarPurchases.addToWishlist({id: 'p2', title: 'Preschool Math', price: 5})">Add</button>
                    </div>
                </article>
                
                 <article class="list-item" data-category="creative" data-type="audio" data-price="0" data-date="2025-01-15">
                    <div class="item-visual" style="width: 80px; height: 80px; background: #f7e5f0; border-radius: 10px; flex-shrink: 0;"></div>
                    <div class="item-details" style="flex: 1; padding: 0 20px;">
                        <h4 style="margin-bottom: 5px;">Focus Binaural Beats</h4>
                        <p style="font-size: 13px; color: #666; margin-bottom: 8px;">Audio MP3 • Creative</p>
                    </div>
                    <div class="item-action" style="text-align: right;">
                        <div class="item-price">Free</div>
                         <button class="btn btn-primary btn-sm" onclick="kynarPurchases.addToWishlist({id: 'p3', title: 'Focus Beats', price: 0})">Get</button>
                    </div>
                </article>

            </div>
            
            <div id="empty-state" style="display: none; text-align: center; padding: 40px;">
                <p>No products match your filters.</p>
                <button onclick="document.getElementById('clear-filters').click()" class="btn btn-secondary btn-sm">Clear Filters</button>
            </div>
        </section>
    </main>

        <div data-include="components/auth-modals.html"></div>

    <nav class="side-drawer" id="side-drawer" aria-hidden="true">
    <div class="drawer-header" style="padding: 20px; border-bottom: 1px solid rgba(0,0,0,0.05); display: flex; justify-content: space-between; align-items: center;">
        <span style="font-family: var(--font-display); font-size: 14px; letter-spacing: 0.1em; text-transform: uppercase;">Navigation</span>
        <button class="drawer-close" type="button" aria-label="Close menu" style="background: none; border: none; font-size: 18px; cursor: pointer;">&times;</button>
    </div>
    <ul style="list-style: none; padding: 20px 0;">
        
        <li><a href="index.html">Home</a></li>
        <li><a href="marketplace.html" style="color: var(--color-star-red);">Marketplace</a></li>
        <li><a href="guides.html">Guides</a></li>
        <li><a href="community.html">Community</a></li>
        <li style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(0,0,0,0.05);">
            <a href="account.html" class="account-nav-link" id="account-nav-mobile">
                <i class="fa-regular fa-circle-user"></i> My Account
            </a>
        </li>
    </ul>
</nav>

    <div data-include="components/footer.html"></div>

    
    <script src="utilities.js"></script>
    <script src="loading-state.js"></script>
    <script src="script.js" defer></script>

    <script src="firebase-config.js" type="module"></script>
    <script src="auth-ui.js" type="module"></script>

<!-- Loading overlay -->
    <div class="loading-overlay" id="global-loading" aria-live="polite" aria-label="Loading">
        <div class="loading-spinner"></div>
    </div>
</body>
</html>