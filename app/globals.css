@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Kynar Light: Warm Off-White Canvas */
    --background: #FAF9F6;
    --foreground: #0F172A;
    --card: #FFFFFF;
    --border: #F1F5F9;
  }

  .dark {
    /* Kynar Dark: Charcoal/Cosmic Grey */
    --background: #1E293B;
    --foreground: #FAF9F6;
    --card: #0F172A;
    --border: #334155;
  }

  body {
    /* Refined transition to avoid jitter during dark mode toggle */
    transition: background-color 0.5s cubic-bezier(0.16, 1, 0.3, 1), color 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    background-color: var(--background);
    color: var(--foreground);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Prevent horizontal scroll on mobile universe (UX Guide 11.2) */
    overflow-x: hidden;
  }
}

@layer components {
  /* The "Subtle Lift" Interaction (Visual Guide 11.1) */
  .kyn-card {
    @apply bg-white dark:bg-kyn-slate-900 border border-kyn-slate-100 
           dark:border-kyn-slate-800 rounded-kyn transition-all duration-300;
  }

  /* Only apply lift/scale on devices that support hover (Desktop) to avoid Mobile friction */
  @media (hover: hover) {
    .kyn-card:hover {
      @apply scale-[1.01] shadow-kyn-lift dark:shadow-none;
    }
  }

  /* Shimmer Effect for Loading Skeletons (UX Guide 11.2) */
  .shimmer {
    @apply relative overflow-hidden before:absolute before:inset-0 
           before:-translate-x-full before:animate-[shimmer_2s_infinite] 
           before:bg-gradient-to-r before:from-transparent 
           before:via-white/20 before:to-transparent;
  }

  /* Editorial Content Styling (Alignment with File 25) */
  .prose {
    @apply max-w-none;
  }
  .prose p {
    @apply mb-6 leading-relaxed;
  }
}

/* Custom Utilities for the Mobile Universe */
@utility no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
  &::-webkit-scrollbar {
    display: none;
  }
}

@keyframes shimmer {
  100% {
    transform: translateX(100%);
  }
}
