@import "tailwindcss";

/* 1. Plugins */
@plugin "@tailwindcss/typography";
@plugin "@tailwindcss/forms";
@plugin "tailwindcss-animate";

/* 2. Theme Configuration (Replaces tailwind.config.ts) */
@theme {
  /* System Core */
  --color-canvas: hsl(var(--canvas));
  --color-surface: hsl(var(--surface));
  --color-border: hsl(var(--border));
  --color-text-primary: hsl(var(--text-primary));
  --color-text-secondary: hsl(var(--text-secondary));

  /* Branding: Kynar Palette */
  --color-kyn-green-50: #f2f4f2;
  --color-kyn-green-100: #e6eae5;
  --color-kyn-green-200: #c2ccc1;
  --color-kyn-green-500: hsl(var(--kyn-green));
  --color-kyn-green-600: #3d5140;
  --color-kyn-green-700: #2d3b2f;
  --color-kyn-green-900: #1a241b;

  --color-kyn-caramel-50: #fdfbf7;
  --color-kyn-caramel-100: #f7f1e6;
  --color-kyn-caramel-200: #e9dcc2;
  --color-kyn-caramel-500: hsl(var(--kyn-caramel));
  --color-kyn-caramel-600: #947234;
  --color-kyn-caramel-700: #755b29;
  --color-kyn-caramel-900: #453518;

  --color-kyn-slate-50: #f8fafc;
  --color-kyn-slate-100: #f1f5f9;
  --color-kyn-slate-200: #e2e8f0;
  --color-kyn-slate-300: #cbd5e1;
  --color-kyn-slate-400: #94a3b8;
  --color-kyn-slate-500: #64748b;
  --color-kyn-slate-800: #1e293b;
  --color-kyn-slate-900: hsl(var(--kyn-slate));

  /* Typography */
  --font-brand: var(--font-brand), "Plus Jakarta Sans", ui-sans-serif;
  --font-ui: var(--font-ui), "Inter", ui-sans-serif;

  /* Spacing */
  --spacing-gutter: 1.5rem;
  --spacing-inner: 1.25rem;
  --spacing-section: 5rem;

  /* Radius */
  --radius-kynar: 1.25rem;
  --radius-kynar-lg: 2rem;
  --radius-kynar-xl: 2.5rem;

  /* Shadows */
  --shadow-kynar-soft: 0 10px 40px -15px rgba(0, 0, 0, 0.08);
  --shadow-kynar-deep: 0 20px 60px -12px rgba(0, 0, 0, 0.15);

  /* Animations & Easings */
  --ease-kyn-out: cubic-bezier(0.16, 1, 0.3, 1);
  --animate-fade-in: fade-in 0.6s var(--ease-kyn-out) both;
  --animate-slide-up: slide-up 0.8s var(--ease-kyn-out) both;
  --animate-breathe: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  @keyframes slide-up {
    from { transform: translateY(1.5rem); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
}

/* 3. Base Styles */
@layer base {
  :root {
    --canvas: 40 12% 97%;
    --surface: 210 20% 98%;
    --border: 214 32% 91%;
    --kyn-green: 142 71% 45%;
    --kyn-caramel: 38 48% 39%; /* Added default for your caramel var */
    --kyn-slate: 215 25% 15%;
    --text-primary: 215 25% 7%;
    --text-secondary: 215 16% 47%;
    
    --safe-bottom: env(safe-area-inset-bottom, 1.5rem);
    --safe-top: env(safe-area-inset-top, 0px);
  }

  * {
    @apply border-border;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply bg-canvas text-text-primary;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    line-height: 1.6;
    overflow-x: hidden;
    min-height: 100svh;
  }
}

/* 4. Custom Components */
@layer components {
  .calm-transition {
    transition: all 500ms var(--ease-kyn-out);
    will-change: transform, opacity;
  }

  .kynar-card {
    @apply calm-transition rounded-kynar-lg border border-border bg-surface;
  }

  .safe-bottom-padding {
    padding-bottom: calc(var(--safe-bottom) + 5rem);
  }
}
