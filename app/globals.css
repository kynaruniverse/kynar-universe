/* app/globals.css */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --canvas: 40 12% 97%;
    --surface: 210 20% 98%;
    --border: 214 32% 91%;
    --kyn-green: 142 71% 45%;
    --kyn-caramel: 38 48% 39%;
    --kyn-slate: 215 25% 15%;
    --text-primary: 215 25% 7%;
    --text-secondary: 215 16% 47%;
    
    /* Mobile Safe Zones */
    --safe-bottom: env(safe-area-inset-bottom, 1.5rem);
    --safe-top: env(safe-area-inset-top, 0px);
    
    --ease-kyn-out: cubic-bezier(0.33, 1, 0.68, 1);
  }

  * {
    @apply border-border;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply bg-canvas text-text-primary;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    line-height: 1.6;
    overflow-x: hidden;
    min-height: 100svh;
  }
}

@layer components {
  .calm-transition {
    transition: all 500ms var(--ease-kyn-out);
    will-change: transform, opacity;
  }

  .kynar-card {
    @apply calm-transition rounded-[2rem] border border-border bg-surface;
  }

  /* Protects content from overlapping bottom navigation docks */
  .safe-bottom-padding {
    padding-bottom: calc(var(--safe-bottom) + 5rem);
  }

  /* --- ADDED FOR SELECTION OVERLAY --- */
  
  /* Custom thin scrollbar for the modal list */
  .custom-scrollbar::-webkit-scrollbar {
    width: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    /* Aligned with tailwind.config.ts: kyn-slate-900 exists, kyn-slate does not */
    @apply bg-kyn-slate-900/10 rounded-full;
  }

  /* Smooth scaling for the 'pop-in' effect */
  .animate-in {
    animation-timing-function: var(--ease-kyn-out);
  }
}
