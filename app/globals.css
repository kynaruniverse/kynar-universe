@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Kynar Light: Warm Off-White Canvas [Colour Guide 1.2] */
    --background: #FAF9F6;
    --foreground: #0F172A;
    --card: #FFFFFF;
    --border: #F1F5F9;
  }

  .dark {
    /* Kynar Dark: Charcoal/Cosmic Grey [Colour Guide 1.2] */
    --background: #1E293B;
    --foreground: #FAF9F6;
    --card: #0F172A;
    --border: #334155;
  }

  body {
    /* Refined transition for a "Calm" theme switch */
    transition: background-color 0.5s cubic-bezier(0.16, 1, 0.3, 1), color 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    background-color: var(--background);
    color: var(--foreground);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    
    /* Prevent horizontal jitter on mobile universe navigation */
    overflow-x: hidden;
    width: 100%;
    position: relative;
  }
}

@layer components {
  /**
   * The "Subtle Lift" Interaction (Visual Guide 11.1)
   * Central component for Store cards and Library items.
   */
  .kyn-card {
    @apply bg-white dark:bg-kyn-slate-900 border border-kyn-slate-100 
           dark:border-kyn-slate-800 rounded-kyn transition-all duration-300;
  }

  /* Interaction Gate: Prevents "sticky" hover states on mobile touch */
  @media (hover: hover) {
    .kyn-card:hover {
      @apply scale-[1.01] shadow-kyn-lift dark:shadow-none;
    }
  }

  /**
   * Shimmer Effect for Loading Skeletons (Visual Guide 11.2)
   */
  .shimmer {
    @apply relative overflow-hidden before:absolute before:inset-0 
           before:-translate-x-full before:animate-[shimmer_2s_infinite] 
           before:bg-gradient-to-r before:from-transparent 
           before:via-white/20 before:to-transparent;
  }

  /* Custom Input Styling for Auth & Admin forms */
  .kyn-input {
    @apply border border-kyn-slate-200 dark:border-kyn-slate-700 
           bg-white dark:bg-kyn-slate-900 focus:ring-2 
           focus:ring-kyn-green-500/20 transition-all outline-none 
           rounded-xl px-4 py-2;
  }

  /* Editorial Content Styling (Brand Language 3.1) */
  .prose {
    @apply max-w-none text-kyn-slate-600 dark:text-kyn-slate-300;
  }
  .prose p {
    @apply mb-6 leading-relaxed;
  }
}

@layer utilities {
  /* Utility to hide scrollbars while maintaining functionality (MiniCart & Store) */
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Slow rotation for "Vault Accessing" states */
  .animate-spin-slow {
    animation: spin 3s linear infinite;
  }
}

@keyframes shimmer {
  100% {
    transform: translateX(100%);
  }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
