<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" 
      content="default-src 'self'; 
               script-src 'self' https://unpkg.com https://cdn.jsdelivr.net 'unsafe-inline'; 
               style-src 'self' https://fonts.googleapis.com 'unsafe-inline'; 
               font-src 'self' https://fonts.gstatic.com; 
               img-src 'self' data: https:; 
               connect-src 'self';">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

  <title>Initialize Workspace | Kynar Universe</title>
  
  <meta name="robots" content="noindex">
  
  <link rel="icon" type="image/x-icon" href="../../assets/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="../../assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../assets/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="../../assets/apple-touch-icon.png">>


  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@400;500;600&family=Lora:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
  
  <script src="https://unpkg.com/@phosphor-icons/web@2.0.3" integrity="sha384-hiKKzPWrwThyepBYcEjt4rzb2Xw5k8w1YWCgv0v1lh8FwLKwQAs1Z4yPmBifZZl8" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="../../css/tokens.css">
  <link rel="stylesheet" href="../../css/global.css">
  <link rel="stylesheet" href="../../css/components.css">

  <style>
    /* Wizard Specific Styles */
    .step { display: none; }
    .step.active { display: flex; animation: fadeIn 0.5s cubic-bezier(0.2, 0.8, 0.2, 1); }
    
    .dot { width: 8px; height: 8px; border-radius: 50%; background: var(--border-subtle); transition: background 0.3s; }
    .dot.active { background: var(--accent-primary); transform: scale(1.2); }

    /* Selection Card Interaction */
    .option-card {
      text-align: left; 
      width: 100%; 
      cursor: pointer; 
      transition: all 0.2s ease;
      border: 2px solid transparent;
      padding: 16px;
    }
    .option-card:hover {
      background-color: var(--bg-surface-hover);
      transform: translateX(4px);
    }
    .option-card.selected {
      border-color: var(--accent-primary);
      background-color: var(--bg-surface-hover);
      box-shadow: var(--shadow-md);
    }
  </style>
</head>

<body data-theme="accounts">

  <main class="container" style="min-height: 100vh; display: flex; flex-direction: column; justify-content: center; max-width: 500px; padding: var(--space-xl) var(--space-md);">

    <div id="step-1" class="step active stack-lg" style="text-align: center; align-items: center;">
      
      <div class="icon-box" style="width: 64px; height: 64px; font-size: 2rem; margin-bottom: var(--space-sm);">
        <i class="ph ph-globe-hemisphere-west"></i>
      </div>
      
      <div class="stack-sm">
        <h1 class="text-h1">One Universe.<br>Infinite Solutions.</h1>
        <p class="text-body" style="font-size: 1.1rem; opacity: 0.8;">
          Welcome to the ultimate Digital Department Store.<br>Let's calibrate your experience.
        </p>
      </div>
      
      <button onclick="nextStep(2)" class="btn-primary" style="width: 100%; justify-content: center;">Initialize Workspace</button>
    </div>

    <div id="step-2" class="step stack-lg">
      <div class="stack-sm">
        <span class="tag">Calibration 1 of 3</span>
        <h2 class="text-h2">What is your primary focus?</h2>
        <p class="text-body">We'll curate the tools you see first.</p>
      </div>
      
      <div class="stack-sm">
        
        <button class="card option-card" onclick="selectOption(this, 'tools')">
          <div style="display: flex; align-items: center; gap: 12px;">
            <div class="icon-box" style="width: 32px; height: 32px; font-size: 1rem; background: var(--pal-tools-surface); color: var(--pal-tools-core);">
               <i class="ph ph-code"></i>
            </div>
            <div>
              <h3 class="text-h3" style="margin:0; font-size: 1rem;">Developer & Creator</h3>
              <p class="text-micro" style="text-transform: none;">I need scripts and blueprints.</p>
            </div>
          </div>
        </button>

        <button class="card option-card" onclick="selectOption(this, 'living')">
           <div style="display: flex; align-items: center; gap: 12px;">
            <div class="icon-box" style="width: 32px; height: 32px; font-size: 1rem; background: var(--pal-living-surface); color: var(--pal-living-green);">
               <i class="ph ph-lightning"></i>
            </div>
            <div>
              <h3 class="text-h3" style="margin:0; font-size: 1rem;">High Performance</h3>
              <p class="text-micro" style="text-transform: none;">I need clarity and systems.</p>
            </div>
          </div>
        </button>

        <button class="card option-card" onclick="selectOption(this, 'home')">
           <div style="display: flex; align-items: center; gap: 12px;">
            <div class="icon-box" style="width: 32px; height: 32px; font-size: 1rem; background: var(--pal-home-surface); color: var(--pal-home-core);">
               <i class="ph ph-house-line"></i>
            </div>
            <div>
              <h3 class="text-h3" style="margin:0; font-size: 1rem;">Family & Household</h3>
              <p class="text-micro" style="text-transform: none;">I need organization at home.</p>
            </div>
          </div>
        </button>

      </div>

      <div style="display: flex; justify-content: space-between; align-items: center;">
        <button onclick="nextStep(1)" class="btn-tertiary">Back</button>
        <button onclick="nextStep(3)" class="btn-primary" id="btn-step-2" disabled style="opacity: 0.5;">Next</button>
      </div>
    </div>

    <div id="step-3" class="step stack-lg">
      <div class="stack-sm">
        <span class="tag">Calibration 2 of 3</span>
        <h2 class="text-h2">Our Standard</h2>
        <p class="text-body">A promise before you enter.</p>
      </div>
      
      <div class="card" style="border-left: 4px solid var(--accent-primary);">
        <h3 class="text-h3">No Digital Filler.</h3>
        <p class="text-body" style="font-size: 0.95rem; margin-top: 8px;">
          We believe the right tool can change your day. Every script, template, and workbook here is verified for usability and impact.
        </p>
      </div>

      <div class="form-group" style="margin-top: 8px;">
         <label class="text-micro" style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
           <input type="checkbox" onchange="document.getElementById('btn-step-3').disabled = !this.checked">
           I accept the standard.
         </label>
      </div>

      <div style="display: flex; justify-content: space-between; align-items: center;">
        <button onclick="nextStep(2)" class="btn-tertiary">Back</button>
        <button onclick="nextStep(4)" class="btn-primary" id="btn-step-3" disabled style="opacity: 0.5;">Continue</button>
      </div>
    </div>

    <div id="step-4" class="step stack-lg" style="text-align: center; align-items: center;">
      
      <div class="icon-box" style="width: 64px; height: 64px; font-size: 2rem; background: var(--bg-surface); color: var(--pal-home-highlight);">
         <i class="ph ph-star-four"></i>
      </div>

      <div class="stack-sm">
        <h1 class="text-h2">System Ready.</h1>
        <p class="text-body">Your digital upgrades await.<br>The world is open to you.</p>
      </div>
      
      <button onclick="finishOnboarding()" class="btn-primary" style="width: 100%; justify-content: center;">Enter Kynar Universe</button>
      
      <p class="text-lore" style="font-size: 0.75rem; opacity: 0.3; margin-top: var(--space-md);">
        "Look to the stars in your settings."
      </p>
    </div>

    <div style="display: flex; gap: 8px; justify-content: center; margin-top: var(--space-xl);">
      <div id="dot-1" class="dot active"></div>
      <div id="dot-2" class="dot"></div>
      <div id="dot-3" class="dot"></div>
      <div id="dot-4" class="dot"></div>
    </div>

  </main>

  <script type="module" src="../../js/app.js"></script>

  <script>
    let selectedCategory = null;

    function nextStep(stepNum) {
      // Hide all steps
      document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.dot').forEach(el => el.classList.remove('active'));
      
      // Show target step
      document.getElementById(`step-${stepNum}`).classList.add('active');
      document.getElementById(`dot-${stepNum}`).classList.add('active');
    }

    function selectOption(btn, category) {
      // Deselect all
      document.querySelectorAll('.option-card').forEach(el => el.classList.remove('selected'));
      
      // Select clicked
      btn.classList.add('selected');
      selectedCategory = category;
      
      // Enable Next Button
      const nextBtn = document.getElementById('btn-step-2');
      nextBtn.disabled = false;
      nextBtn.style.opacity = '1';
    }

    function finishOnboarding() {
      // Save User Preference
      if (selectedCategory) {
        localStorage.setItem('kynar_user_path', selectedCategory);
      }
      // Redirect to Home
      window.location.href = '../../index.html';
    }
  </script>
  <script type="module" src="../../js/footer.js"></script>
</body>
</html>
