<!DOCTYPE html>
<html lang="en" data-mode="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Purchase Complete | Kynar Universe</title>
  
  <link rel="stylesheet" href="../assets/phosphor.css">
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <link rel="stylesheet" href="../css/tokens.css">
  <link rel="stylesheet" href="../css/global.css">
  <link rel="stylesheet" href="../css/components.css">

  <style>
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }
    @keyframes confetti {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: var(--accent-primary);
      opacity: 0;
      animation: confetti 3s ease-out;
    }
  </style>
</head>

<body>
  
  <main class="container" style="max-width: 600px; text-align: center;">
    
    <div class="animate-enter stack-xl">
      
      <!-- Success Icon -->
      <div style="position: relative; display: inline-block; margin: 0 auto;">
        <div class="icon-box" style="width: 120px; height: 120px; font-size: 4rem; background: var(--accent-surface); border: 2px solid var(--accent-primary); margin: 0 auto;">
          <i class="ph ph-check-circle" style="color: var(--color-success);"></i>
        </div>
      </div>

      <!-- Message -->
      <div class="stack-md">
        <h1 class="text-h1">Welcome to the Universe</h1>
        <p class="text-body" style="font-size: 1.1rem; max-width: 48ch; margin: 0 auto;">
          Your purchase is complete. Check your email for download instructions and your receipt.
        </p>
      </div>

      <!-- Next Steps -->
      <div class="card stack-sm">
        <h3 class="text-h3" style="font-size: 1.1rem;">What's Next?</h3>
        <ul style="text-align: left; list-style: none; padding: 0;" class="stack-xs">
          <li style="display: flex; gap: 12px; align-items: flex-start;">
            <i class="ph ph-envelope" style="color: var(--accent-primary); margin-top: 2px;"></i>
            <span class="text-body">Check your email for instant download link</span>
          </li>
          <li style="display: flex; gap: 12px; align-items: flex-start;">
            <i class="ph ph-archive-box" style="color: var(--accent-primary); margin-top: 2px;"></i>
            <span class="text-body">Access your purchase anytime in your inventory</span>
          </li>
          <li style="display: flex; gap: 12px; align-items: flex-start;">
            <i class="ph ph-book-open" style="color: var(--accent-primary); margin-top: 2px;"></i>
            <span class="text-body">Explore setup guides in The Hub</span>
          </li>
        </ul>
      </div>

      <!-- Actions -->
      <div style="display: flex; gap: var(--space-md); justify-content: center; flex-wrap: wrap;">
        <a href="../pages/account/index.html" class="btn-primary">
          <i class="ph ph-archive-box"></i> View Inventory
        </a>
        <a href="../index.html" class="btn-secondary">
          <i class="ph ph-house"></i> Return Home
        </a>
      </div>

      <!-- Support -->
      <p class="text-micro" style="opacity: 0.5; margin-top: var(--space-lg);">
        Questions? Contact <a href="mailto:support@kynaruniverse.co.uk" style="color: var(--accent-primary);">support@kynaruniverse.co.uk</a>
      </p>

    </div>

  </main>

  <script type="module" src="../js/app.js"></script>
  <script type="module">
    import { handlePurchaseSuccess } from '../js/checkout.js';
    
    // Process purchase on page load
    document.addEventListener('DOMContentLoaded', () => {
      handlePurchaseSuccess();
      
      // Fun confetti effect
      for (let i = 0; i < 50; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.className = 'confetti';
          confetti.style.left = Math.random() * 100 + 'vw';
          confetti.style.animationDelay = Math.random() * 2 + 's';
          confetti.style.background = ['var(--pal-tools-core)', 'var(--pal-life-core)', 'var(--pal-home-core)'][Math.floor(Math.random() * 3)];
          document.body.appendChild(confetti);
          
          setTimeout(() => confetti.remove(), 3000);
        }, i * 50);
      }
    });
  </script>

</body>
</html>