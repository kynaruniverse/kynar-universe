/* KYNAR DESIGN TOKENS (css/tokens.css)
   Source of Truth for the "One Universe" Visual Language.
   Status: FINAL MASTER (Aligned with Brand Guide Part 1)
*/

:root {
  /* =========================================
     1. TYPOGRAPHY SYSTEM
     ========================================= */
  /* Main UI: Clean, modern, functional */
  --font-primary: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
  /* Storytelling: Editorial, mythic (The "Whispers") */
  --font-secondary: "Lora", Georgia, serif; 
  /* Technical: Data, code, receipts */
  --font-mono: "Fira Code", monospace; 

  /* Responsive Type Scale (Mobile-First Clamps) */
  --text-h1: clamp(2.5rem, 5vw, 4rem);      
  --text-h2: clamp(1.75rem, 3vw, 2.5rem); 
  --text-h3: clamp(1.25rem, 2vw, 1.5rem);                     
  --text-body: 1rem;                      
  --text-micro: 0.875rem;                 
  
  --leading-tight: 1.2;
  --leading-base: 1.6;  
  --leading-loose: 1.8;

  --weight-regular: 400;
  --weight-medium: 500;
  --weight-semibold: 600; 
  
  /* =========================================
     2. SPACING SCALE (4px Base Grid)
     ========================================= */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md-sm: 12px;
  --space-md: 16px;
  --space-md-lg: 24px;
  --space-lg: 32px;
  --space-xl: 48px;
  --space-2xl: 64px;
  --space-section: clamp(64px, 10vw, 120px); /* Responsive breathing room */
  
  /* MOBILE SAFETY (Notch & Home Bar) */
  --safe-top: env(safe-area-inset-top, 20px);
  --safe-bottom: env(safe-area-inset-bottom, 20px);
  --safe-left: env(safe-area-inset-left, 0px);
  --safe-right: env(safe-area-inset-right, 0px);

  /* INTERACTION STANDARDS */
  --touch-target: 44px; /* WCAG Minimum tap size */
  --header-height: 60px;

  /* =========================================
     3. SHAPE, DEPTH & MOTION
     ========================================= */
  --radius-sm: 4px;
  --radius-md: 12px;   
  --radius-lg: 24px;  
  --radius-pill: 999px; 

  --grid-max-width: 1200px;
  --grid-gutter: var(--space-md);
  
  /* Z-Index Hierarchy (Prevent Layer Conflicts) */
  --z-back: -1;
  --z-base: 1;
  --z-sticky: 100;
  --z-header: 1000;
  --z-overlay: 2000;
  --z-modal: 3000;
  --z-toast: 4000;

  /* Motion Physics */
  --duration-fast: 200ms;
  --duration-base: 300ms;
  --ease-out: cubic-bezier(0.215, 0.61, 0.355, 1);
  --ease-spring: cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* =========================================
     4. COLOR PALETTE: THE DEEP UNIVERSE
     ========================================= */

  /* THE CANVAS (Default Dark Mode) */
  --bg-page: #0a0a0a;  /* Void Black */
  --bg-panel: #141414; /* Offset Black */
  --bg-surface: rgba(255, 255, 255, 0.03); /* Glass */
  --bg-surface-hover: rgba(255, 255, 255, 0.08); 
  
  /* THE INK (Text) */
  --text-main: #ededed;  /* Soft White */
  --text-body: #a1a1aa;  /* Silver */
  --text-muted: #52525b; /* Zinc */
  --text-inverse: #0a0a0a; 
  
  /* UTILITIES */
  --border-subtle: rgba(255, 255, 255, 0.1);
  --border-highlight: rgba(255, 255, 255, 0.2);
  --glass-blur: blur(16px);
  --shadow-glow: 0 0 20px rgba(255, 255, 255, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
  
  /* ACCESSIBILITY FOCUS */
  --focus-ring: 0 0 0 2px var(--bg-page), 0 0 0 4px var(--accent-primary);

  /* STATUS */
  --color-success: #10b981; 
  --color-error: #ef4444;   
  --color-info: #3b82f6;    

  /* --- DEPARTMENT SOULS (The 3 Worlds) --- */

  /* TOOLS (Electric Blue) */
  --pal-tools-core: #3b82f6;
  --pal-tools-glow: rgba(59, 130, 246, 0.4);
  --pal-tools-surface: rgba(59, 130, 246, 0.1);

  /* LIVING (Emerald Green) */
  --pal-living-core: #10b981;
  --pal-living-glow: rgba(16, 185, 129, 0.4);
  --pal-living-surface: rgba(16, 185, 129, 0.1);

  /* HOME (Amber/Gold) */
  --pal-home-core: #f59e0b;
  --pal-home-glow: rgba(245, 158, 11, 0.4);
  --pal-home-surface: rgba(245, 158, 11, 0.1);

  /* HUB (Mystic Purple) */
  --pal-hub-core: #8b5cf6;
  --pal-hub-glow: rgba(139, 92, 246, 0.4);
  --pal-hub-surface: rgba(139, 92, 246, 0.1);

  /* ACCOUNTS (Neutral/Teal) */
  --pal-account-blue: #3b82f6;
  --pal-about-mint: #2dd4bf; 

  /* STARWALKER (Secret Mode) */
  --pal-star-gold: #FFD700;
  --pal-star-glow: rgba(255, 215, 0, 0.5);
}

/* =========================================
   5. SEMANTIC THEME ENGINE
   ========================================= */

/* DEFAULT (Fallback) */
:root {
  --accent-primary: var(--pal-tools-core);
  --accent-glow: var(--pal-tools-glow);
  --accent-surface: var(--pal-tools-surface);
}

/* THEMES */
[data-theme="tools"] {
  --accent-primary: var(--pal-tools-core);
  --accent-glow: var(--pal-tools-glow);
  --accent-surface: var(--pal-tools-surface);
}

[data-theme="living"] {
  --accent-primary: var(--pal-living-core);
  --accent-glow: var(--pal-living-glow);
  --accent-surface: var(--pal-living-surface);
}

[data-theme="home"], [data-theme="home-category"] {
  --accent-primary: var(--pal-home-core);
  --accent-glow: var(--pal-home-glow);
  --accent-surface: var(--pal-home-surface);
}

[data-theme="hub"] {
  --accent-primary: var(--pal-hub-core);
  --accent-glow: var(--pal-hub-glow);
  --accent-surface: var(--pal-hub-surface);
}

[data-theme="about"] {
  --accent-primary: var(--pal-about-mint);
  --accent-glow: rgba(45, 212, 191, 0.4);
}

/* =========================================
   6. ATMOSPHERE OVERRIDES
   ========================================= */

/* LIGHT MODE */
:root[data-mode="light"] {
  --bg-page: #fdfbf7; /* Warm Paper */
  --bg-panel: #f4f4f5;
  --bg-surface: #ffffff;
  --bg-surface-hover: #f4f4f5;
  
  --text-main: #18181b;
  --text-body: #52525b;
  --text-muted: #71717a;
  
  --border-subtle: #e4e4e7;
  --border-highlight: #d4d4d8;
  --glass-blur: blur(0px); /* Clean look for light */
  
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
  --pal-tools-glow: rgba(59, 130, 246, 0.1); /* Softer glows */
}

/* STARWALKER MODE (Secret) */
:root[data-mode="starwalker"] {
  --bg-page: #000000; /* Absolute Void */
  --bg-panel: #050505;
  
  --accent-primary: var(--pal-star-gold);
  --accent-glow: var(--pal-star-glow);
  --accent-surface: rgba(255, 215, 0, 0.1);
  
  --text-main: #fffcf0; 
  --border-subtle: rgba(255, 215, 0, 0.2); 
}
